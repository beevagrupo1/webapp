(function($){"use strict";var t='<?xml version="1.0" encoding="utf-8"?>'+'<svg version="1.1" id="Layer_1"'+'xmlns="http://www.w3.org/2000/svg"'+'viewBox="0 12.705 512 486.59"'+'x="0px" y="0px"'+'xml:space="preserve">'+'<polygon id="star-icon"'+'points="256.814,12.705 317.205,198.566'+" 512.631,198.566 354.529,313.435 "+"414.918,499.295 256.814,384.427 "+"98.713,499.295 159.102,313.435 "+'1,198.566 196.426,198.566 "/>'+"</svg>";var e={starWidth:"32px",normalFill:"gray",ratedFill:"#f39c12",numStars:5,minValue:0,maxValue:5,precision:1,rating:0,onChange:null,onSet:null};function r(t,e,r){if(t===e){t=e}else if(t===r){t=r}return t}function n(t,e,r){var n=t>=e&&t<=r;if(!n){throw Error("Invalid Rating, expected value between "+e+" and "+r)}return t}function i(t,e){var r;$.each(e,function(){if(t===this.node){r=this;return false}});return r}function o(t,e){$.each(e,function(r){if(t===this.node){var n=e.slice(0,r),i=e.slice(r+1,e.length);e=n.concat(i);return false}});return e}function a(e,i){this.$node=e;this.node=e.get(0);var s=this;var l=i.rating;i.starHeight=i.starWidth;var f=false,g=i.maxValue,p=i.minValue;if(typeof l==="string"){if(l[l.length-1]==="%"){f=true;l=l.substr(0,l.length-1);g=100;p=0}l=parseInt(l);n(l,p,g)}var u=parseInt(i.starWidth.replace("px","").trim());u=u*i.numStars;e.addClass("jq-ry-container").width(u);var h=$("<div/>").addClass("jq-ry-group-wrapper").appendTo(e);var c=$("<div/>").addClass("jq-ry-normal-group").addClass("jq-ry-group").appendTo(h);var d=$("<div/>").addClass("jq-ry-rated-group").addClass("jq-ry-group").appendTo(h);for(var v=0;v<i.numStars;v++){c.append($(t));d.append($(t))}c.find("svg").attr({width:i.starWidth,height:i.starHeight,fill:i.normalFill});d.find("svg").attr({width:i.starWidth,height:i.starHeight,fill:i.ratedFill});this.getRating=function(){return l};this.setRating=function(t){if(typeof t==="string"){if(t[t.length-1]==="%"){t=t.substr(0,t.length-1)}t=parseFloat(t)}n(t,p,g);l=parseFloat(t.toFixed(i.precision));r(parseFloat(l),p,g);y();e.trigger("rateyo.set",{rating:l});return this};function y(t){if(t===undefined){t=l}var e=(t-p)/(g-p)*100;d.css("width",e+"%")}function m(t){var e=c.offset(),r=e.left,n=r+c.width();var i=t.pageX;var o;if(i<r){o=p}else if(i>n){o=g}else{o=(i-r)/(n-r)*(g-p);o=p+o}return o}function w(t){var n=m(t).toFixed(i.precision);n=r(parseFloat(n),p,g);y(n);e.trigger("rateyo.change",{rating:n})}function x(){y();e.trigger("rateyo.change",{rating:l})}function F(t){var e=m(t).toFixed(i.precision);e=parseFloat(e);s.setRating(e)}function C(t,e){if(i.onChange&&typeof i.onChange==="function"){i.onChange.apply(this,[e.rating,s])}}function j(t,e){if(i.onSet&&typeof i.onSet==="function"){i.onSet.apply(this,[e.rating,s])}}function S(){e.on("mousemove",w).on("mouseenter",w).on("mouseleave",x).on("click",F).on("rateyo.change",C).on("rateyo.set",j)}function q(){e.off("mousemove",w).off("mouseenter",w).off("mouseleave",x).off("click",F).off("rateyo.change",C).on("rateyo.set",j)}this.destroy=function(){q();a.prototype.collection=o(e.get(0),this.collection);e.removeClass("jq-ry-container").children().remove();return e};S();this.setRating(l)}a.prototype.collection=[];function s(t){var r=a.prototype.collection;var n={rating:{getter:"getRating",setter:"setRating"},destroy:{getter:"destroy"}};var o=$(this);if(o.length===0){return o}var s=Array.prototype.slice.apply(arguments,[]);if(s.length===0){t=s[0]={}}else if(s.length===1&&typeof s[0]==="object"){t=s[0]}else if(s.length>1&&s[0]==="method"){var l=s[1];if(!n[l]){throw Error("Invalid Option!")}var f=[];var g=s.length===2;var p;var u;if(g){p=i(o.get(o.length-1),r);if(!p){throw Error("Trying to get options before even initialization")}u=p[n[l].getter];if(!u){throw Error("Method "+l+" does not exist!")}return u.apply(p,[])}else{var h=s[2];$.each(o,function(t,e){var o=i($(e).get(0),r);if(!o){throw Error("Trying to set options before even initialization")}u=o[n[l].setter];if(!u){throw Error("Method "+l+" does not exist!")}u.apply(o,[h]);f.push(o.node)});return $(f)}}else{throw Error("Invalid Arguments")}t=$.extend(JSON.parse(JSON.stringify(e)),t);return $.each(o,function(){var e=i(this,r);if(e){return}r.push(new a($(this),t))})}function l(){return s.apply(this,Array.prototype.slice.apply(arguments,[]))}$.fn.rateYo=l})(jQuery);